<!-- 
<mat-toolbar color="primary" style="direction: rtl;">
  <span style="flex: 1;">📚 מערכת ניהול תבניות</span>

  @if (isLoggedIn()) {
    <a mat-button routerLink="/templates">➕ העלאת תבנית</a>
    <a mat-button routerLink="/template-list">📄 תבניות</a>
    <a mat-button routerLink="/users">👥 משתמשים</a>
    <a mat-button (click)="logout()">🔓 יציאה</a>
  } @else {
    <a mat-button routerLink="/login">🔒 התחברות</a>
  }
</mat-toolbar>

<div style="padding: 20px;">
  <router-outlet></router-outlet>
</div>
 -->




<!-- 
<div class="app-container">
  <div class="sidebar" [class.collapsed]="sidebarCollapsed">
    <div class="sidebar-header">
      <div class="logo">
        <span>PaperDreams</span>
      </div>
      <button class="toggle-btn" (click)="toggleSidebar()">
        <i class="material-icons">{{ sidebarCollapsed ? 'menu' : 'menu_open' }}</i>
      </button>
    </div>

    @if(isLoggedIn()){

    <div class="sidebar-content">
      <div class="nav-item" routerLink="/users" routerLinkActive="active">
        <i class=" material-icons">people</i>
        <span *ngIf="!sidebarCollapsed">משתמשים</span>
      </div>
      <div class="nav-item" routerLink="/templates" routerLinkActive="active">
        <i class=" material-icons">description</i>
        <span *ngIf="!sidebarCollapsed">תבניות</span>
      </div>
      <div class="nav-item" routerLink="/template-list" routerLinkActive="active">
        <i class="material-icons">list</i>
        <span *ngIf="!sidebarCollapsed">רשימת תבניות</span>
      </div>
      <div class="nav-item" routerLink="/analytics" routerLinkActive="active">
        <i class="material-icons">analytics</i>
        <span *ngIf="!sidebarCollapsed">דוחות ואנליטיקה</span>
      </div>
      <div class="nav-item" routerLink="/sendEmail" routerLinkActive="active">
        <i class="material-icons">send</i>
        <span *ngIf="!sidebarCollapsed">לשליחת מייל שיווקי </span>
      </div>
    </div>

    <div class="sidebar-footer">
      <div class="nav-item logout" (click)="logout()">
        <i class="material-icons">exit_to_app</i>
        @if(sidebarCollapsed){
        <span>התנתק</span>
        }
      </div>
    </div>
    }
  </div>

  <div class="main-content" [class.expanded]="sidebarCollapsed">
    @if(!isLoggedIn()){
    <div class="top-bar">
      <div class="page-title">
        <h1>{{ getPageTitle() }}</h1>
      </div>
      <div class="user-menu">
        <button mat-button [matMenuTriggerFor]="menu" class="user-button">
          <i class="material-icons">account_circle</i>
          <span>מנהל מערכת</span>
          <i class="material-icons">arrow_drop_down</i>
        </button>
        @if(isLoggedIn()){
        <mat-menu #menu="matMenu">
          <button mat-menu-item (click)="logout()">
            <i class="material-icons">exit_to_app</i>
            <span>התנתק</span>
          </button>
        </mat-menu>
        }
      </div>
    </div>
    }
    <div class="content-wrapper page-transition">
      <router-outlet></router-outlet>
    </div>
  </div>
</div> -->



<div class="app-container">
  <!-- Sidebar -->
  <div class="sidebar" [class.collapsed]="sidebarCollapsed">
    <div class="sidebar-header">
      <div class="logo">
        <span>PaperDreams</span>
      </div>
      <button class="toggle-btn" (click)="toggleSidebar()">
        <i class="material-icons">{{ sidebarCollapsed ? 'menu' : 'menu_open' }}</i>
      </button>
    </div>

    @if (isLoggedIn()) {
      <div class="sidebar-content">
        <div class="nav-item" routerLink="/users" routerLinkActive="active">
          <i class="material-icons">people</i>
          @if (!sidebarCollapsed){
            <span >משתמשים</span>
          }
        </div>
        <div class="nav-item" routerLink="/templates" routerLinkActive="active">
          <i class="material-icons">description</i>
          @if (!sidebarCollapsed){
            <span >תבניות</span>
          }       
         </div>
        <div class="nav-item" routerLink="/template-list" routerLinkActive="active">
          <i class="material-icons">list</i>
          @if (!sidebarCollapsed){
            <span >רשימת תבניות</span>
          }       
         </div>
        <div class="nav-item" routerLink="/analytics" routerLinkActive="active">
          <i class="material-icons">analytics</i>
          @if (!sidebarCollapsed){
            <span >דוחות ואנליטיקה</span>
          }
        </div>
        <div class="nav-item" routerLink="/sendEmail" routerLinkActive="active">
          <i class="material-icons">send</i>
          @if (!sidebarCollapsed){
            <span >לשליחת מייל שיווקי</span>
          }
        </div>
      </div>

      <div class="sidebar-footer">
        <div class="nav-item logout" (click)="logout()">
          <i class="material-icons">exit_to_app</i>
          @if (!sidebarCollapsed){
            <span > התנתק </span>
          }
        </div>
      </div>
    }
  </div>

  <!-- Main Content -->
  <div class="main-content" [class.expanded]="sidebarCollapsed">
    <!-- Top Bar -->
    <div class="top-bar">
      <div class="page-title">
        <h1>{{ getPageTitle() }}</h1>
      </div>

      <div class="user-menu">
        @if (isLoggedIn()) {
          <button mat-button [matMenuTriggerFor]="menu" class="user-button">
            <i class="material-icons">account_circle</i>
            <span>מנהל מערכת</span>
            <i class="material-icons">arrow_drop_down</i>
          </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="logout()">
              <i class="material-icons">exit_to_app</i>
              <span>התנתק</span>
            </button>
          </mat-menu>
        } @else {
          <a mat-button routerLink="/login">
            <i class="material-icons">login</i>
            <span>התחברות כמנהל</span>
          </a>
        }
      </div>
    </div>

    <!-- Router Outlet -->
    <div class="content-wrapper page-transition">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>
